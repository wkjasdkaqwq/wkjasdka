<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semi-rounded Corner - on Liuyanlin Community</title>
    <link rel="icon" href="/wkjasdka/index/echo logo.png" type="image/x-icon">
    <!-- 引入Font Awesome图标库 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
/* 九宫格按钮位置 */


.app-launcher-wrapper {
    position: relative;
    display: inline-block;
}
.app-launcher-container {
    position: relative;
    display: inline-block;
}
.app-launcher-group {
    display: flex;
    align-items: center;
    gap: 9px; /* 九宫格与 Logo 的距离 */
}
/* 九宫格按钮（透明背景） */
.app-launcher-btn {
    width: 40px;
    height: 40px;
    background: transparent;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}
/* 右侧 LOGO */
.app-launcher-logo img {
    height: 28px;   /* 可自行调整 */
    width: auto;
}
.app-launcher-logo span {
    font-size: 16px;
    font-weight: 600;
}
/* 下拉菜单 */
.app-launcher-menu {
    position: absolute;
    top: 50px;
    left: 0;
    width: 200px;
    display: none;
    flex-direction: column;
    background: #fff;
    border-radius: 10px;
    box-shadow: 0px 4px 20px rgba(0,0,0,0.15);
    padding: 10px;
    animation: fadeIn 0.15s ease;
}

/* 九宫格图标点 */
.grid-icon {
    display: grid;
    grid-template-columns: repeat(3, 4px);
    gap: 4px;
}

.grid-icon span {
    width: 4px;
    height: 4px;
    background: #555;
    border-radius: 50%;
}

/* 展开菜单 */
.app-launcher-menu {
    position: absolute;
    top: 50px;
    left: 0;
    width: 200px;
    display: none;
    flex-direction: column;
    background: white;
    border-radius: 10px;
    box-shadow: 0px 4px 20px rgba(0,0,0,0.15);
    padding: 10px;
    animation: fadeIn 0.15s ease;
}

.app-launcher-menu a {
    padding: 10px;
    border-radius: 6px;
    text-decoration: none;
    color: #333;
}

.app-launcher-menu a:hover {
    background: #efefef;
}

/* 展开动画 */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(5px); }
    to { opacity: 1; transform: translateY(0); }
}



        /* Logo样式 */
        .navbar-logo {
            font-size: 1.5rem;
            font-weight: bold;
            text-decoration: none;
            color: #333;
            margin: 0;
            padding: 0;
            margin-left: 140px;
            cursor: pointer; /* 显示手型光标，提示可点击 */
            transition: color 0.3s;
        }
        
        .navbar-logo:hover {
            color: #666; /* 悬停效果 */
        }
        
        .navbar-menu {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0 1rem;
        }
        
        .navbar-item {
            margin-left: 2rem;
        }
        
        .navbar-link {
            color: #333;
            text-decoration: none;
            transition: color 0.3s, transform 0.3s;
            font-weight: 500;
        }
        
        .navbar-link:hover {
            color: #666;
            transform: translateY(-2px);
        }

        /* 加载层样式 */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        .loading-logo {
            width: 300px; 
            height: auto;
        }
        .loading-text-container {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            text-align: center;
            padding: 0;
        }
        .loading-text {
            color: #6a6a6a;
            font-size: 16px;
            margin: 5px 0;
        }

        /* 顶部加载条样式 */
        .top-loading-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 5px;
            background-color: #ff8000;
            width: 0%;
            z-index: 10000;
            transition: width 0.1s ease;
            
        }

        /* ① 启动时隐藏所有非 loading 元素 */
body > :not(.loading-screen):not(.top-loading-bar) {
    display: none;
}

/* ② logo / from 文案默认隐藏，下载完成后再显示 */
.loading-logo,
.loading-text {
    opacity: 0;
    transition: opacity 0.2s ease;
}

.loading-logo.show,
.loading-text.show {
    opacity: 1;
}

    </style>
</head>

<div class="app-launcher-wrapper">
    <div class="app-launcher-group">
        <!-- 九宫格按钮 -->
        <button class="app-launcher-btn" id="appLauncherBtn">
            <div class="grid-icon">
                <span></span><span></span><span></span>
                <span></span><span></span><span></span>
                <span></span><span></span><span></span>
            </div>
        </button>

        <!-- 右侧 Logo（可用文字或图片） -->
        <div class="app-launcher-logo">
            <img src="index/community2.png" alt="Logo" />
            <!-- 或者文本： -->
            <!-- <span>MyLogo</span> -->
        </div>
    </div>

    <!-- 下拉菜单 -->
    <div class="app-launcher-menu" id="appLauncherMenu">
        <a href="#">Liuyanlin Community</a>
        <a href="#">Liuyanlin Forum</a>
        <a href="#">Liuyanlin Social</a>
        <a href="#"></a>
        <a href="#"></a>
        <a href="#"></a>
    </div>
</div>




<body>


    <!-- 顶部加载条 -->
    <div class="top-loading-bar" id="topLoadingBar"></div>
    
<img src="/wkjasdka/index/community2.png"
     alt="加载Logo"
     class="loading-logo"
     id="loadingLogo">

<div class="loading-text">from</div>
<div class="loading-text" id="loadingFrom">- Wkjasdka -</div>


    <div id="mainContent" style="display: none;">
    </div>

    <script>
const loadingBar = document.getElementById('topLoadingBar');
const loadingScreen = document.getElementById('loadingScreen');
const loadingLogo = document.getElementById('loadingLogo');
const loadingTexts = document.querySelectorAll('.loading-text');
const mainContent = document.getElementById('mainContent');

let logoProgress = 0;
let contentProgress = 0;

/* ===== 1️⃣ Logo 下载（占 0–50%） ===== */
function loadLogo() {
    return new Promise((resolve) => {
        const img = new Image();
        img.src = loadingLogo.src;

        const timer = setInterval(() => {
            logoProgress = Math.min(logoProgress + 5, 50);
            loadingBar.style.width = logoProgress + '%';
        }, 30);

        img.onload = () => {
            clearInterval(timer);
            logoProgress = 50;
            loadingBar.style.width = '50%';

            // 显示 logo + 文案
            loadingLogo.classList.add('show');
            loadingTexts.forEach(t => t.classList.add('show'));

            resolve();
        };
    });
}

/* ===== 2️⃣ 页面内容加载（占 50–100%） ===== */
function loadContent() {
    return new Promise((resolve) => {
        // 这里放你真正的内容加载逻辑（fetch / innerHTML 等）

        const timer = setInterval(() => {
            contentProgress = Math.min(contentProgress + 5, 50);
            loadingBar.style.width = (50 + contentProgress) + '%';

            if (contentProgress >= 50) {
                clearInterval(timer);
                resolve();
            }
        }, 30);
    });
}

/* ===== 3️⃣ 启动流程 ===== */
(async function start() {
    await loadLogo();       // 先下载 logo
    await loadContent();    // 再下载页面内容

    // 全部完成
    loadingBar.style.display = 'none';
    loadingScreen.style.display = 'none';

    // 恢复页面元素
    document.querySelectorAll('body > *').forEach(el => {
        el.style.display = '';
    });

    mainContent.style.display = 'block';
})();

const btn = document.getElementById("appLauncherBtn");
const menu = document.getElementById("appLauncherMenu");

btn.addEventListener("click", () => {
    menu.style.display = (menu.style.display === "flex") ? "none" : "flex";
});

// 点击空白处关闭
document.addEventListener("click", (e) => {
    if (!btn.contains(e.target) && !menu.contains(e.target)) {
        menu.style.display = "none";
    }
});




    </script>
</body>
</html>
